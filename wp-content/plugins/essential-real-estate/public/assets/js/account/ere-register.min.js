!function(e){"use strict";e(document).ready(function(){if("undefined"!=typeof ere_register_vars){var s=ere_register_vars.ajax_url,r=ere_register_vars.loading;e(".ere-register").validate({errorElement:"span",rules:{user_login:{required:!0,minlength:3},user_email:{required:!0,pattern:/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/},user_password:{required:!0},user_password_retype:{required:!0}},messages:{user_login:"",user_email:"",user_password:"",user_password_retype:""}}),e(".ere-register-button").on("click",function(a){a.preventDefault();var t=e(this).parents("form"),n=e(this).data("redirect-url"),i=e(this).parents(".ere-register-wrap").find(".ere_messages");t.valid()&&e.ajax({type:"post",url:s,dataType:"json",data:t.serialize(),beforeSend:function(){i.empty().append('<span class="success text-success"> '+r+"</span>")},success:function(s){s.success?(i.empty().append('<span class="success text-success"><i class="fa fa-check"></i> '+s.message+"</span>"),""==n?setTimeout(function(){e("#ere_login_modal_tab").click()},4e3):window.location.href=n):("function"==typeof ere_reset_recaptcha&&ere_reset_recaptcha(),i.empty().append('<span class="error text-danger"><i class="fa fa-close"></i> '+s.message+"</span>"))}})})}})}(jQuery);