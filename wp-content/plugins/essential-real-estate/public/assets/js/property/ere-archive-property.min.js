!function(e){"use strict";e(document).ready(function(){e(".property-filter-placeholder",".archive-property-action .sort-property").on("click",function(a){var s=e(this);return a.preventDefault(),s.next("ul").hasClass("active")?(s.next("ul").removeClass("active"),s.removeClass("active")):(s.next("ul").addClass("active"),s.addClass("active")),!1}),e("li",".archive-property-action .sort-property").each(function(){var a=e(this);window.location.href.indexOf("sortby="+a.children().data("sortby"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html())),a.on("click","a",function(a){if(e(this).closest("ul").removeClass("active"),e(this).parent().hasClass("active"))return a.preventDefault(),!1;e(this).closest("ul").prev("span").html(e(this).html())})}),e("li",".archive-property-action .property-status").each(function(){var a=e(this);window.location.href.indexOf("status="+a.children().data("status"))>-1&&(a.parent().children("li").removeClass("active"),a.addClass("active"),a.closest("ul").prev("span").html(a.children().html()))}),e(document).on("click",function(a){0==e(a.target).closest(".sort-property").length&&e("ul",".sort-property").each(function(){var a=e(this);a.hasClass("active")&&(a.removeClass("active"),a.prev("span").removeClass("active"))})}),e("span",".archive-property-action .view-as").each(function(){var a=e(this);window.location.href.indexOf("view_as")>-1?window.location.href.indexOf("view_as="+a.data("view-as"))>-1&&a.addClass("active"):e(".ere-property",".ere-property-wrap").hasClass(a.data("view-as"))&&a.addClass("active");var s=!0;a.on("click",function(a){var t=e(this),r=t.data("view-as"),i=t.closest(".ere-property-wrap").find(".ere-property"),n=t.closest(".view-as").data("admin-url");if(a.preventDefault(),t.hasClass("active")||!s)return!1;s=!1,t.closest(".view-as").find("span").removeClass("active"),t.addClass("active"),i.fadeOut(),setTimeout(function(){"property-list"==r?i.removeClass("property-grid").addClass("property-list list-1-column"):i.removeClass("property-list list-1-column").addClass("property-grid"),i.fadeIn("slow")},400),e.ajax({url:n,data:{action:"ere_property_set_session_view_as_ajax",view_as:r},success:function(){s=!0},error:function(){s=!0}})})}),e(".paging-navigation",".ere-property").each(function(){var a=e(this);0===a.find("a.next").length?a.addClass("next-disable"):a.removeClass("next-disable")}),e("#ere_save_search").click(function(a){a.preventDefault();var s=e(this),t=e("#ere_save_search_form"),r=s.data("ajax-url");e.ajax({url:r,data:t.serialize(),method:t.attr("method"),dataType:"JSON",beforeSend:function(){s.children("i").remove(),s.append('<i class="fa fa-spinner fa-spin"></i>')},success:function(e){void 0===e.success&&ERE.login_modal(),e.success&&(s.children("i").removeClass("fa-spinner fa-spin"),s.children("i").addClass("fa-check"))},error:function(){s.children("i").removeClass("fa-spinner fa-spin"),s.children("i").addClass("fa-exclamation-triangle")},complete:function(){s.children("i").removeClass("fa-spinner fa-spin")}})})})}(jQuery);